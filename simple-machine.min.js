// Generated by CoffeeScript 1.3.3
(function(e){return e.SimpleMachine=function(){function e(e,t,n){this.state=e,this.transitions=t!=null?t:{},this.callbacks=n!=null?n:{}}return e.prototype.on=function(e,t,n){return n!=null&&(t=function(){return t.call(n)}),this.callbacks[e]=[t].concat(this.callbacks[e]),this},e.prototype.trigger=function(e){var t,n,r,i,s,o,u;if(((s=this.transitions[e])!=null?s[this.state]:void 0)!=null&&e!=="all"){o=[this.state,this.transitions[e][this.state]],n=o[0],this.state=o[1],u=[this.callbacks.all].concat(this.callbacks[this.state]);for(r=0,i=u.length;r<i;r++)t=u[r],typeof t=="function"&&t(n);return!0}return!1},e}()})(exports);