// Generated by CoffeeScript 1.3.3
(function(e){return e.SimpleMachine=function(){function e(e,t,n){this.state=e,this.transitions=t!=null?t:{},this.callbacks=n!=null?n:{}}return e.prototype.on=function(e,t,n){return n!=null&&(t=function(){return t.call(n)}),this.callbacks[e]=[t].concat(this.callbacks[e]),this},e.prototype.trigger=function(e){var t,n,r,i,s;if(((i=this.transitions[e])!=null?i[this.state]:void 0)!=null&&e!=="all"){this.state=this.transitions[e][this.state],s=[this.callbacks.all].concat(this.callbacks[this.state]);for(n=0,r=s.length;n<r;n++)t=s[n],typeof t=="function"&&t();return!0}return!1},e}()})(exports);